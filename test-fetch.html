<!DOCTYPE html>
<html>
<head>
    <title>Basic Fetch Test</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #333; color: #0f0; }
        pre { background: #000; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>Testing fetch('/data.json')</h1>
    <pre id="log"></pre>

    <script>
        (async () => {
            const log = document.getElementById('log');
            
            function write(msg) {
                log.textContent += msg + '\n';
                console.log(msg);
            }
            
            write('Starting fetch test...\n');
            
            try {
                write('Fetching /data.json...');
                const response = await fetch('/data.json');
                write(`Response status: ${response.status} ${response.statusText}`);
                write(`Response ok: ${response.ok}`);
                
                if (!response.ok) {
                    write('ERROR: Response not ok!');
                    return;
                }
                
                write('Parsing JSON...');
                const data = await response.json();
                
                write(`Success!`);
                write(`- categories: ${data.categories.length}`);
                write(`- products: ${data.products.length}`);
                write(`- authorized_users: ${data.authorized_users.length}`);
                
            } catch (e) {
                write(`ERROR: ${e.message}`);
                write(e.stack);
            }
        })();
    </script>
</body>
</html>
